{"version":3,"sources":["webpack:///./modules/cart/cart.js","webpack:///webpack/runtime/getFullHash"],"names":["$","count","numberOfGoods","sumPrice","addSetInNav","thisCard","text","removeSetInNav","isOneItem","length","addClass","removeClass","addResultSumm","sum","addSet","target","priceSet","match","css","set","attr","append","removeSet","setItem","closest","remove","document","on","event"],"mappings":"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","file":"main.90bca12f0655a39e7cfc.hot-update.js","sourcesContent":["import * as $ from 'jquery';\r\n\r\nexport default $(() => {\r\n\tlet count = 1,\r\n\t\tnumberOfGoods = 0,\r\n\t\tsumPrice = 0;\r\n\r\n\tconst addSetInNav = thisCard => {\r\n\t\t++count;\r\n\t\t$('.price-group__count-set', thisCard).text(count);\r\n\t};\r\n\r\n\tconst removeSetInNav = thisCard => {\r\n\t\t--count;\r\n\t\t$('.price-group__count-set', thisCard).text(count);\r\n\t};\r\n\r\n\tconst isOneItem = () => {\r\n\t\t// eslint-disable-next-line max-len\r\n\t\t$('.cart__item').length > 1 ? $('.cart__item:first-child').addClass('hidden') : $('.cart__item:first-child').removeClass('hidden');\r\n\t};\r\n\r\n\tconst addResultSumm = sum => {\r\n\t\t$('.cart__result-summ').text(sum);\r\n\t};\r\n\r\n\tconst addSet = (thisCard, target = '.cards') => {\r\n\t\t//Получает стоимость набора из карточки\r\n\t\tconst priceSet = $('.price-group__price', thisCard).text().match(/\\d*/);\r\n\r\n\t\t// Добавляет количество наборов в корзине\r\n\t\t$('.navbar__cart-count').css('display', 'block').text(++numberOfGoods);\r\n\t\t// Создает набор\r\n\t\tconst set = `\r\n\t\t\t\t<li class=\"cart__item\">\r\n\t\t\t\t\t<img src=\"${$(target + '__img > img', thisCard).attr('src')}\" alt=\"\" class=\"cart__set-img\">\r\n\t\t\t\t\t<div class=\"cart__set-content\">\r\n\t\t\t\t\t\t<p class=\"cart__set-name\">${$(target + '__title', thisCard).text()}</p>\r\n\t\t\t\t\t\t<span class=\"cart__set-number\">x${count}</span>\r\n\t\t\t\t\t\t<div class=\"cart__elements-wrap\">\r\n\t\t\t\t\t\t\t<span class=\"cart__set-price\">${count * priceSet} руб.</span>\r\n\t\t\t\t\t\t\t<span class=\"cart__set-close\">x</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t`;\r\n\r\n\t\t// Итоговая сумма\r\n\t\tsumPrice += count * priceSet;\r\n\t\taddResultSumm(sumPrice);\r\n\r\n\t\t// Добавляет набор в блок КОРЗИНА\r\n\t\t$('.cart__list').append(set);\r\n\t};\r\n\r\n\tconst removeSet = target => {\r\n\r\n\t\tconst setItem = target.closest('.cart__item');\r\n\t\tsumPrice -= $('.cart__set-price', setItem).text().match(/\\d*/);\r\n\t\taddResultSumm(sumPrice);\r\n\r\n\t\ttarget.closest('.cart__item').remove();\r\n\t};\r\n\r\n\t$(document).on('click', event => {\r\n\r\n\t\tconst target = event.target;\r\n\t\tlet thisCard = target.closest('.cards__item');\r\n\r\n\t\tif (target.closest('.price-group__pros')) {\r\n\t\t\taddSetInNav(thisCard);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (target.closest('.price-group__cons') && count > 1) {\r\n\t\t\tremoveSetInNav(thisCard);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (target.closest('.price-group__button-icon') || target.closest('.price-group__button')) {\r\n\t\t\tif (target.closest('.popup')) {\r\n\t\t\t\tthisCard = target.closest('.popup');\r\n\t\t\t\taddSet(thisCard, '.popup');\r\n\t\t\t\tisOneItem();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\taddSet(thisCard);\r\n\t\t\tisOneItem();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (target.closest('.cart__set-close')) {\r\n\t\t\tremoveSet(target);\r\n\t\t\tisOneItem();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t});\r\n});\r\n","__webpack_require__.h = () => (\"438f7f9b23d8dcfab186\")"],"sourceRoot":""}