{"version":3,"sources":["webpack:///./modules/forms/submitForms.js","webpack:///webpack/runtime/getFullHash"],"names":["$","loader","body","forms","each","index","form","maskPhone","valid","Validator","selector","id","pattern","name","method","init","on","event","preventDefault","error","size","addClass","css","data","item","attr","value","count","text","slice","done","response","closest","thisPopup","removeClass","setTimeout","type","console","log","fail","warn","status","statusText"],"mappings":"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","file":"main.cc81b5952bd9461aa31f.hot-update.js","sourcesContent":["import * as $ from 'jquery';\r\n// Валидация\r\nimport Validator from '/plugins/validator/validation.js';\r\nimport maskPhone from '/plugins/maskPhone/maskPhone.js';\r\n\r\nexport default $(() => {\r\n\tconst loader = $('.loader'),\r\n\t\tbody = $('body');\r\n\r\n\tconst forms = $('form');\r\n\r\n\tforms.each((index, form) => {\r\n\r\n\t\tmaskPhone('.form__phone', '+7(___)___-__-__');\r\n\r\n\t\tconst valid = new Validator({\r\n\t\t\tselector: `#${form.id}`,\r\n\t\t\tpattern: {\r\n\t\t\t\tname: /^[А-яЁё]{2,}$/\r\n\t\t\t},\r\n\t\t\tmethod: {\r\n\t\t\t\t'address': [\r\n\t\t\t\t\t['notEmpty'],\r\n\t\t\t\t],\r\n\t\t\t\t'name': [\r\n\t\t\t\t\t['notEmpty'],\r\n\t\t\t\t\t['pattern', 'name']\r\n\t\t\t\t],\r\n\t\t\t\t'phone': [\r\n\t\t\t\t\t['notEmpty'],\r\n\t\t\t\t\t['pattern', 'phone']\r\n\t\t\t\t],\r\n\t\t\t\t'email': [\r\n\t\t\t\t\t['notEmpty'],\r\n\t\t\t\t\t['pattern', 'email']\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tvalid.init();\r\n\r\n\t\t$(form).on('submit', event => {\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\tif (valid.error.size === 0) {\r\n\t\t\t\t// Блокирует прокрутку страницы\r\n\t\t\t\tbody.addClass('lock');\r\n\t\t\t\t// Добавляет лоадер\r\n\t\t\t\tloader.css('display', 'flex');\r\n\r\n\t\t\t\tconst data = {};\r\n\r\n\t\t\t\t$('input', form).each((index, item) => {\r\n\t\t\t\t\tdata[$(item).attr('name')] = item.value;\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif (form.id === 'cartForm') {\r\n\t\t\t\t\tlet count = 0;\r\n\t\t\t\t\t$('.cart__set-content').each((index, item) => {\r\n\t\t\t\t\t\tcount = $('.cart__set-number', item).text().slice(1);\r\n\t\t\t\t\t\tif ($('.cart__set-name', item).text() in data) {\r\n\t\t\t\t\t\t\tcount = +data[$('.cart__set-name', item).text()] + +count;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdata[$('.cart__set-name', item).text()] = count;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$.post(\r\n\t\t\t\t\t'sendForm.php',\r\n\t\t\t\t\tdata,\r\n\t\t\t\t)\r\n\t\t\t\t\t.done(response => {\r\n\t\t\t\t\t\tif (form.closest('.popup')) {\r\n\t\t\t\t\t\t\tconst thisPopup = $(form.closest('.popup'));\r\n\r\n\t\t\t\t\t\t\t$(thisPopup).css('display', 'none');\r\n\t\t\t\t\t\t\t$('.popup__wrap', thisPopup).css('opacity', 0);\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Скрывает лоадер\r\n\t\t\t\t\t\tloader.css('display', 'none');\r\n\r\n\t\t\t\t\t\t// Снимает блокировку прокрутки страницы\r\n\t\t\t\t\t\tbody.removeClass('lock');\r\n\r\n\r\n\t\t\t\t\t\t$('#popupThanks').css('display', 'block');\r\n\t\t\t\t\t\t$('.popup__wrap', $('#popupThanks')).css('opacity', 1);\r\n\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t$('#popupThanks').css('display', 'none');\r\n\t\t\t\t\t\t\t$('.popup__wrap', $('#popupThanks')).css('opacity', 0);\r\n\t\t\t\t\t\t}, 2000);\r\n\r\n\t\t\t\t\t\t$('input', form).each((index, item) => {\r\n\t\t\t\t\t\t\tif (item.type !== 'hidden') {\r\n\t\t\t\t\t\t\t\titem.value = '';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.fail(response => {\r\n\t\t\t\t\t\tconsole.warn(response.status + ' ' + response.statusText);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\t});\r\n\r\n});\r\n","__webpack_require__.h = () => (\"05db0d04e36cbfe859e9\")"],"sourceRoot":""}